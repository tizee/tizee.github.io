{"componentChunkName":"component---src-templates-post-jsx","path":"/post/d64c0ad0aa8e22567b8f024558ebecc5","result":{"data":{"post":{"id":"24d9b060-af01-5b8c-9ab0-87780c37e51d","excerpt":"Problem Sometimes there isn't a  .d.ts  file for a imported third-party module, we have to write a type definition file for it. Or you want…","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Manually add typescript typing file\",\n  \"date\": \"2020-07-12\",\n  \"category\": \"web dev\",\n  \"tags\": [\"typescript\"]\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", null, \"Problem\"), mdx(\"p\", null, \"Sometimes there isn't a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".d.ts\"), \" file for a imported third-party module, we have to write a type definition file for it. Or you want to overwirte its type definitions.\"), mdx(\"h3\", null, \"tsconfig\"), mdx(\"p\", null, \"To use our custom type definition files, it's required to change \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"tsconfig.json\"), \" to tell compiler where to find them.\\nSee \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/Microsoft/TypeScript/issues/22217#issuecomment-369783776\"\n  }), \"Typesciprt issue\"), \".\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json\"\n  }), \"{\\n    \\\"compilerOptions\\\":{\\n        // ...\\n        \\\"baseUrl\\\": \\\"./\\\", // see \\n        \\\"paths\\\": {\\n            \\\"*\\\": [\\\"src/type\\\"]  // a dir where you put your custom type definition file\\n            },\\n        \\\"typeRoots\\\": [\\\"./node_modules/@types\\\", \\\"./src/type\\\"],\\n        // ...\\n    },\\n    \\\"exclude\\\": [\\\"node_modules\\\", \\\"src/type/name\\\", ...]\\n}\\n\")), mdx(\"h3\", null, \"add definition files\"), mdx(\"h4\", null, \"a default export module\"), mdx(\"p\", null, \"See template file \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.typescriptlang.org/docs/handbook/declaration-files/templates/module-plugin-d-ts.html\"\n  }), \"module-plugin.d.ts\"), \".\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-typescript:title=src/main.ts\"\n  }), \"// src/main.ts\\nimport foobar from 'de-foobar'\\n\\nfunction foo(){\\n    console.log(foobar(1));\\n    console.log(foobar('2'));\\n}\\n\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-typescript:title=src/type/de-foobar/index.d.ts\"\n  }), \"declare module 'de-foobar' {\\n    function print(str:string|number):string;\\n    export default print;\\n}\\n\")), mdx(\"h4\", null, \"a named export module\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-typescript:title=src/main.tsx\"\n  }), \"import {Bar} from 'react-foobar-component';\\n\\nconst foo = '1';\\nconst ABar= ()=>{\\n    return <Bar foo={foo}><Bar/>\\n}\\n\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-typescript:title=src/type/react-foobar-component/index.d.ts\"\n  }), \"declare module 'react-foobar-component'{\\n    export class Bar extends React.Component<BarProps & any, any> {}\\n \\n    interface BarProps{\\n        foo?: number|string\\n    }\\n}\\n\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","fields":{"date":"2020-07-12","title":"Manually add typescript typing file","category":"web dev","tags":["typescript"],"slug":"d64c0ad0aa8e22567b8f024558ebecc5"},"timeToRead":1,"tableOfContents":{"items":[{"url":"#problem","title":"Problem","items":[{"url":"#tsconfig","title":"tsconfig"},{"url":"#add-definition-files","title":"add definition files","items":[{"url":"#a-default-export-module","title":"a default export module"},{"url":"#a-named-export-module","title":"a named export module"}]}]}]}}},"pageContext":{"id":"24d9b060-af01-5b8c-9ab0-87780c37e51d","previous":{"post":{"id":"7318b655-83b1-5e3a-b0a0-5ab435d933d3","parent":{"id":"4d1a506b-13e3-589e-8fa5-93c2364efc78"},"excerpt":"Problem yarn add imagemin-mozjpeg  failed due to missing some system level dependencies. Solution Install following dependencies: As macOS…","slug":"83f60ba72853f6555a99cf05c0553e64","title":"Install Mozjpeg","tags":["linux","macos"],"category":"snippets","date":"2020-07-05"}},"next":{"post":{"id":"1c6ed443-1b1d-59b2-bdc9-07ad00e24b3a","parent":{"id":"d7e66f55-7bed-536f-a20e-11f20bfc7239"},"excerpt":"Detect scroll In my opinion, there are two ways to detect scroll in page. One uses  window.addEventListener('scroll', callback)  and another…","slug":"8d211daa6080bb90962905914605c5a0","title":"Scroll Observer","tags":["javascript","source code"],"category":"fun stuff","date":"2020-07-13"}}}}}